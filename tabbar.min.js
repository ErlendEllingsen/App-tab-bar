var AppTabBar={};AppTabBar.Tabbar=function(nodeId,options){var self=this;this.obj_ID=nodeId;this.obj=null;this.options=options;this.tabs={tabs_current_uuid:"",tabs_objects:[],tab_selected:null,tab_selected_classes:"",tab_unselected_classes:"",active:null};this.init=function(){self.obj=$("#"+self.obj_ID)};this.calculation={};this.calculation.id=0;this.calculation.columnsCalculated=null;this.calculation.uniqueId=function(){self.calculation.id++;return Number(self.calculation.id.toString())};this.calculation.calculateColumns=function(){var numTabs=self.tabs.tabs_objects.length;var columns=12/numTabs;var validColumns=[2,3,4,6,12];if(validColumns.indexOf(columns)==-1){throw"calculateColumns invalid_columns"}self.calculation.columnsCalculated=columns};this.findTab=function(tabId){var foundTab=false;var tabIndex=0;var tab=null;for(var i=0;i<self.tabs.tabs_objects.length;i++){var tempTab=self.tabs.tabs_objects[i];if(tempTab.id==tabId){tabIndex=i;foundTab=true;tab=tempTab;break}}if(!foundTab)return false;return{tab:tab,tabIndex:tabIndex}};this.addTab=function(name,icon,options){var tabId=self.calculation.uniqueId();var tab=new AppTabBar.Tab(tabId,name,icon,options,self);self.tabs.tabs_objects.push(tab);return tabId};this.removeTab=function(tabId){var tabObj=self.findTab(tabId);if(tabObj===false)return;$(tabObj.tab.obj).remove();self.tabs.tabs_objects.splice(tabObj.tabIndex,1);return true};this.selectTab=function(tabId){var tabObj=self.findTab(tabId);if(tabObj===false)return;if(tabObj.tab.rendered==false){throw"selectTab\trender_before_selecting";return false}if(self.tabs.tab_selected!==null){$(self.tabs.tab_selected.obj).attr("class",self.tabs.tab_unselected_classes)}self.tabs.tab_selected=tabObj.tab;$(self.tabs.tab_selected.obj).attr("class",self.tabs.tab_selected_classes);tabObj.tab.events.selected()};this.render=function(){self.calculation.calculateColumns();var cols=self.calculation.columnsCalculated;self.tabs.tab_selected_classes="navBtnCtn active col-xs-"+cols+" col-sm-"+cols+" col-md-"+cols+" col-lg-"+cols;self.tabs.tab_unselected_classes="navBtnCtn col-xs-"+cols+" col-sm-"+cols+" col-md-"+cols+" col-lg-"+cols;$(self.obj).html("");$(self.obj).html(""+'<div data-tab-bar-controller="container" class="navigationBarContainer container-fluid" style="display: block;">'+'\t<div data-tab-bar-controller="bar" class="navigationBar row">'+"\t</div>"+"</div>");var bar_obj=$(self.obj).find('div[data-tab-bar-controller="bar"]');for(var i=0;i<self.tabs.tabs_objects.length;i++){var tab=self.tabs.tabs_objects[i];var tabCode=tab.renderCode();$(bar_obj).append(tabCode);tab.rendered=true}};this.bind=function(){}};AppTabBar.Tab=function(id,name,icon,options,tabbar){var self=this;this.tabbar=tabbar;this.id=id;this.name=name;this.icon=icon;this.obj=null;this.rendered=false;this.events={};this.events.click=function(){if(self.options.click.preventDefault==true){self.options.click.callback();return}self.tabbar.selectTab(self.id)};this.events.selected=function(){console.log("Tab events.selected not implemented")};this.options={click:{preventDefault:false,callback:null},events:{selected:self.events.selected}};this.init=function(){if(options!=undefined)self.initSetupOptions()};this.initSetupOptions=function(){if("click"in options){if("preventDefault"in options.click)self.options.click.preventDefault=options.click.preventDefault;if("callback"in options.click)self.options.click.callback=options.click.callback}if("events"in options){if("selected"in options.events)self.events.selected=options.events.selected}};this.init();this.renderCode=function(){var btn=""+'<div class="'+self.tabbar.tabs.tab_unselected_classes+'">'+'\t<button data-tab="'+self.id+'" type="button" class="navBtn btn btn-default">'+'\t\t<i class="fa '+self.icon+'" style="display: block;"></i> '+self.name+"\t</button>"+"</div>";btn=$.parseHTML(btn);if("button_height"in self.tabbar.options)$(btn).find("button").css("height",self.tabbar.options.button_height);$(btn).find("button").on("click",self.events.click);self.obj=btn;return btn}};$(document).ready(function(){var tabbar=new AppTabBar.Tabbar("tab_bar",{button_height:60});tabbar.init();var home=tabbar.addTab("Home","fa-home",{events:{selected:function(){}}});var pages=tabbar.addTab("Pages","fa-home");tabbar.render();tabbar.selectTab(home)});